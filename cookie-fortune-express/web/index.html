<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Biscoito da Sorte</title>
  <link rel="shortcut icon" href="./assets/fortune-cookie.png" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?
family=Dancing+Script&family=DM+Sans&family=Montserrat:wght@700&display=swap" rel="stylesheet">
</head>
<body>
  <main>
    <div class="screen1 ">
      <h1>Qual é a sua sorte de hoje?</h1>
      <p>Abra o biscoito e descubra!</p>

      <div class="cookies">
        <img class="cookie1" id="superação" src="./assets/fortune-cookie.svg" alt="Desenho de um biscoito da sorte mostrando a pontinha de um bilhete">
        <img class="cookie2" id="tempo" src="./assets/fortune-cookie.svg" alt="Desenho de um biscoito da sorte amarelo mostrando a pontinha de um bilhete">
        <img class="cookie3" id="sentimento" src="./assets/fortune-cookie.svg" alt="Desenho de um biscoito da sorte avermelhado mostrando a pontinha de um bilhete">
      </div>
    </div>
    
    <div class="screen2 hide">
      <h2>Aqui está a sua sorte de hoje:</h2>
      <p id="luck">Se alguém está tão cansado que não possa te dar um sorriso, deixa-lhe o teu.</p>
      <img class="brokenCookie1 hide" src="./assets/opened-cookie.svg" alt="Desenho de um biscoito da sorte quebrado">
      <img class="brokenCookie2 hide" src="./assets/opened-cookie.svg" alt="Desenho de um biscoito da sorte amarelo quebrado">
      <img class="brokenCookie3 hide" src="./assets/opened-cookie.svg" alt="Desenho de um biscoito da sorte avermelhado quebrado">
      <button id="voltar">Abrir outro biscoito</button>
    </div>
  </main>

  <script src="./js/main.js" type="module"></script>

  <script>
    function sendInfos() {
      // pega msg aleatória na lista de msgs
      const url = 'http://localhost:3003/lista/id/'
      const randomNumber = Math.floor(Math.random() * 15) + 1

      fetch(url + randomNumber)
        .then(resp => resp.text())
        .then(texto => displayMsg(texto))
    }  

    function displayMsg(texto) {
      document.getElementById('luck').innerHTML = texto
      console.log("texto: ", texto)
    }

    sendInfos()

  </script>
</body>
</html>